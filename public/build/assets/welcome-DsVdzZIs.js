import{c as F,K as X,r as n,j as e,L as Y,$ as v}from"./app-BWv1OBX5.js";var T;const P=((T=document.querySelector('meta[name="csrf-token"]'))==null?void 0:T.content)||"",q=F.create({baseURL:"/",withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json",...P?{"X-CSRF-TOKEN":P}:{}}}),a={erp_chat:{title:"ERP Chat",hint:'Try: "Show unpaid invoices > RM 10k top 10"',prompts:["Show unpaid invoices > RM 10k","Show unpaid invoices > RM 0 top 10","Who has overdue payments?","Show overdue invoices top 10"],theme:{badge:"bg-sky-600",ring:"focus:ring-sky-400/40",chip:"border-sky-200 bg-sky-50 text-sky-900 hover:border-sky-300 dark:border-sky-700/40 dark:bg-sky-900/20 dark:text-sky-100"}},document_ai:{title:"Document AI",hint:'Try: "Extract invoice fields for INV-1001"',prompts:["Extract invoice fields for INV-1001","Extract invoice fields for INV-1003","Show invoice details for INV-1004"],theme:{badge:"bg-fuchsia-600",ring:"focus:ring-fuchsia-400/40",chip:"border-fuchsia-200 bg-fuchsia-50 text-fuchsia-900 hover:border-fuchsia-300 dark:border-fuchsia-700/40 dark:bg-fuchsia-900/20 dark:text-fuchsia-100"}},forecasting:{title:"Forecasting",hint:'Try: "List low stock items below reorder point"',prompts:["List low stock items below reorder point","Suggest reorder qty for low stock items","Show production delays"],theme:{badge:"bg-emerald-600",ring:"focus:ring-emerald-400/40",chip:"border-emerald-200 bg-emerald-50 text-emerald-900 hover:border-emerald-300 dark:border-emerald-700/40 dark:bg-emerald-900/20 dark:text-emerald-100"}},workflow_ai:{title:"Workflow AI",hint:'Try: "Show approval workflow"',prompts:["Show approval workflow","Show workflow rule","Approval flow for PO > RM 20k"],theme:{badge:"bg-amber-600",ring:"focus:ring-amber-400/40",chip:"border-amber-200 bg-amber-50 text-amber-900 hover:border-amber-300 dark:border-amber-700/40 dark:bg-amber-900/20 dark:text-amber-100"}}};function B(i){return e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",className:i.className,children:[e.jsx("path",{d:"M10 2h4v2h-4V2Z",className:"fill-current opacity-80"}),e.jsx("path",{d:"M7 7a5 5 0 0 1 10 0v1h1a3 3 0 0 1 3 3v5a6 6 0 0 1-6 6H9a6 6 0 0 1-6-6v-5a3 3 0 0 1 3-3h1V7Z",className:"fill-current"}),e.jsx("path",{d:"M9 12a1.2 1.2 0 1 0 0 2.4A1.2 1.2 0 0 0 9 12Zm6 0a1.2 1.2 0 1 0 0 2.4A1.2 1.2 0 0 0 15 12Z",className:"fill-white"}),e.jsx("path",{d:"M9 16h6",stroke:"white",strokeWidth:"1.6",strokeLinecap:"round",className:"opacity-90"})]})}function J(){const{auth:i}=X().props,b=!!(i!=null&&i.user),u="ERP AI Expert",L="https://static.vecteezy.com/system/resources/previews/023/783/293/non_2x/artificial-intelligence-generated-icon-ai-sign-for-graphic-design-logo-website-social-media-mobile-app-ui-illustration-vector.jpg",V="https://images.unsplash.com/photo-1556761175-b413da4baf72?auto=format&fit=crop&w=1400&q=80",[A,D]=n.useState(""),[y,x]=n.useState([]),[j,c]=n.useState(""),[f,S]=n.useState(!1),[k,w]=n.useState(b?null:5),g=!b&&k!==null&&k<=0,[h,C]=n.useState("erp_chat"),[W,O]=n.useState({erp_chat:!0,document_ai:!1,forecasting:!1,workflow_ai:!1}),M=n.useRef(null);n.useEffect(()=>{y.length>0||x([{role:"system",name:u,text:`Hello! Iâ€™m ${u} (demo dataset mode).

Active module: ${a.erp_chat.title}

Try:
â€¢ ${a.erp_chat.prompts[0]}
â€¢ ${a.erp_chat.prompts[2]}
â€¢ ${a.forecasting.prompts[0]}
â€¢ ${a.forecasting.prompts[2]}
â€¢ ${a.workflow_ai.prompts[0]}`}])},[]),n.useEffect(()=>{var r;(r=M.current)==null||r.scrollIntoView({behavior:"smooth"})},[y,j]),n.useEffect(()=>{b||q.get("/ai/try-status").then(({data:r})=>{typeof(r==null?void 0:r.remaining)=="number"&&w(r.remaining)}).catch(()=>{})},[b]);const U=r=>{O(s=>({...s,[r]:!0})),C(r),x(s=>[...s,{role:"system",name:u,text:`âœ… Enabled: ${a[r].title}

${a[r].hint}

Tip: click a prompt chip below to auto-send.`}])},z=r=>{C(r),x(s=>[...s,{role:"system",name:u,text:`ðŸ” Active module: ${a[r].title}`}])},I=async r=>{var l,p;c("");const s=r.trim();if(!s){c("Please type a message.");return}if(g){c("Please log in to continue using AI.");return}x(o=>{var d;return[...o,{role:"user",name:((d=i==null?void 0:i.user)==null?void 0:d.name)??"You",text:s}]}),S(!0);try{const{data:o}=await q.post("/ai/try",{message:s,module:h});typeof(o==null?void 0:o.remaining)=="number"&&w(o.remaining);const d=((o==null?void 0:o.answer)||"").trim();if(!d){c("Sorry, your request is out of range. Please contact the administrator.");return}x(t=>[...t,{role:"bot",name:u,text:d}])}catch(o){if(F.isAxiosError(o)){const d=(l=o.response)==null?void 0:l.status,t=(p=o.response)==null?void 0:p.data;if(typeof(t==null?void 0:t.remaining)=="number"&&w(t.remaining),t!=null&&t.requires_login&&w(0),d===422){c((t==null?void 0:t.message)||"Sorry, your request is out of range. Please contact the administrator.");return}if(d===401){c((t==null?void 0:t.message)||"Please log in to continue using AI.");return}c((t==null?void 0:t.message)||"Request failed.");return}c("Network error. Please try again.")}finally{S(!1),D("")}},R=()=>I(A),E=n.useMemo(()=>[{key:"erp_chat",title:"ERP Chat",desc:"Search records + explain fields in seconds.",img:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=1200&q=80",tag:"Copilot"},{key:"document_ai",title:"Document AI",desc:"Extract invoice fields + show invoice details.",img:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?auto=format&fit=crop&w=1200&q=80",tag:"Finance"},{key:"forecasting",title:"Forecasting",desc:"Inventory + production planning alerts.",img:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1200&q=80",tag:"Operations"},{key:"workflow_ai",title:"Workflow AI",desc:"Approval rules + automation flow.",img:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1200&q=80",tag:"Automation"}],[]),_=r=>{var s;return r==="user"?e.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-blue-600 text-white flex items-center justify-center text-xs font-semibold",children:(s=i==null?void 0:i.user)!=null&&s.name?i.user.name.slice(0,1).toUpperCase():"U"}):r==="system"?e.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-amber-500 text-white flex items-center justify-center text-sm",children:"â­"}):e.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-emerald-600 text-white flex items-center justify-center",children:e.jsx(B,{className:"h-5 w-5 text-white"})})},Z=r=>r==="user"?"bg-blue-600 text-white border-blue-600/30 dark:bg-blue-500 dark:border-blue-400/30":r==="system"?"bg-amber-50 text-amber-900 border-amber-200 dark:bg-amber-900/20 dark:text-amber-100 dark:border-amber-700/40":"bg-gray-100 text-gray-900 border-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700",H=r=>r==="user"?"justify-end":"justify-start",K="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=1200&q=80",N=a[h].theme;return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{title:"Welcome",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"})]}),e.jsxs("div",{className:"flex min-h-screen flex-col bg-[#FDFDFC] text-[#1b1b18] dark:bg-[#0a0a0a]",children:[e.jsx("header",{className:"mx-auto w-full max-w-6xl p-6 lg:p-8",children:e.jsxs("nav",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:L,alt:"ERP AI",className:"h-9 w-9 rounded-xl border border-[#19140035] bg-white object-cover shadow-sm dark:border-[#3E3E3A] dark:bg-[#161615]",loading:"lazy",referrerPolicy:"no-referrer",onError:r=>{r.currentTarget.style.display="none"}}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{className:"text-sm font-semibold",children:"ERP AI"}),e.jsx("div",{className:"text-xs text-[#706f6c] dark:text-[#A1A09A]",children:"Copilot for your operations"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:b?e.jsx(v,{href:route("dashboard"),className:`inline-flex items-center justify-center rounded-md border border-[#19140035] bg-white px-4 py-2 text-sm font-medium hover:border-[#1915014a]
                  dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC] dark:hover:border-[#62605b]`,children:"Go to Dashboard"}):e.jsxs(e.Fragment,{children:[e.jsx(v,{href:route("login"),className:`inline-flex items-center justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium hover:border-[#19140035]
                    dark:text-[#EDEDEC] dark:hover:border-[#3E3E3A]`,children:"Log in"}),e.jsx(v,{href:route("register"),className:`inline-flex items-center justify-center rounded-md border border-[#19140035] bg-white px-4 py-2 text-sm font-medium hover:border-[#1915014a]
                    dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC] dark:hover:border-[#62605b]`,children:"Register"})]})})]})}),e.jsx("main",{className:"mx-auto flex w-full max-w-6xl grow items-center px-6 pb-10 lg:px-8",children:e.jsxs("div",{className:"grid w-full grid-cols-1 overflow-hidden rounded-2xl border border-[#19140035] bg-white shadow-sm dark:border-[#3E3E3A] dark:bg-[#161615] lg:grid-cols-2",children:[e.jsxs("div",{className:"p-6 lg:p-12",children:[e.jsxs("h1",{className:"text-2xl font-semibold tracking-tight lg:text-4xl dark:text-[#EDEDEC]",children:["Ask. Automate. Analyze.",e.jsx("span",{className:"block text-[#706f6c] dark:text-[#A1A09A]",children:"One assistant across sales, inventory, finance & production."})]}),e.jsxs("div",{className:"mt-6 rounded-xl border border-[#19140035] bg-[#FDFDFC] p-4 dark:border-[#3E3E3A] dark:bg-[#0f0f0f]",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${N.badge}`}),e.jsxs("div",{className:"text-xs font-medium dark:text-white",children:["Test chat (dataset) Â· ",a[h].title]})]}),!b&&k!==null&&e.jsxs("div",{className:"text-[11px] text-[#706f6c] dark:text-[#A1A09A]",children:[k," free tries left"]})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:a[h].prompts.map(r=>e.jsx("button",{type:"button",disabled:f||g,onClick:()=>I(r),className:["rounded-full border px-3 py-1 text-[11px] font-semibold transition",N.chip,f||g?"opacity-60 cursor-not-allowed":""].join(" "),title:"Click to send",children:r},r))}),e.jsx("div",{className:"mt-3 max-h-72 overflow-auto rounded-lg border border-[#19140035] bg-white p-3 dark:border-[#3E3E3A] dark:bg-[#161615]",children:e.jsxs("div",{className:"space-y-3",children:[y.map((r,s)=>e.jsxs("div",{className:`flex ${H(r.role)} gap-2`,children:[r.role!=="user"&&_(r.role),e.jsxs("div",{className:`max-w-[85%] ${r.role==="user"?"text-right":"text-left"}`,children:[e.jsx("div",{className:"mb-1 text-[10px] text-gray-500 dark:text-gray-400",children:r.role==="user"?r.name??"You":r.name??u}),e.jsx("div",{className:["rounded-2xl px-3 py-2 text-sm whitespace-pre-wrap border shadow-sm",Z(r.role)].join(" "),children:r.text})]}),r.role==="user"&&_(r.role)]},s)),e.jsx("div",{ref:M})]})}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("input",{className:["h-10 w-full rounded-lg border border-[#19140035] bg-white px-3 text-sm outline-none","focus:ring-2",N.ring,"dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC]"].join(" "),value:A,onChange:r=>D(r.target.value),placeholder:`Type a messageâ€¦ (${a[h].title})`,disabled:f||g,onKeyDown:r=>{r.key==="Enter"&&R()}}),g?e.jsx(v,{href:route("login"),className:`inline-flex h-10 items-center justify-center rounded-lg border border-[#19140035] bg-white px-4 text-sm font-medium hover:border-[#1915014a]
                      dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC]`,children:"Log in"}):e.jsx("button",{onClick:R,disabled:f,className:`h-10 shrink-0 rounded-lg border border-[#19140035] bg-white px-4 text-sm font-medium hover:border-[#1915014a]
                      dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC]`,children:f?"Thinking...":"Send"})]}),j&&e.jsx("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:j})]})]}),e.jsxs("div",{className:"relative min-h-[320px] bg-[#fff2f2] dark:bg-[#1D0002] lg:min-h-full",children:[e.jsx("img",{src:V,alt:"ERP AI preview",className:"absolute inset-0 h-full w-full object-cover",loading:"lazy",referrerPolicy:"no-referrer"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/55 via-black/10 to-transparent"})]})]})}),e.jsx("section",{id:"ai-modules",className:"mx-auto w-full max-w-6xl px-6 pb-12 lg:px-8",children:e.jsxs("div",{className:"rounded-2xl border border-[#19140035] bg-white p-6 dark:border-[#3E3E3A] dark:bg-[#161615]",children:[e.jsx("div",{className:"text-base font-semibold text-[#1b1b18] dark:text-[#EDEDEC]",children:"AI modules you can add next"}),e.jsx("div",{className:"mt-1 text-sm text-[#706f6c] dark:text-[#A1A09A]",children:"Enable a module â†’ it becomes active and shows prompts above."}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Object.entries(a).map(([r,s])=>{var d,t,$;const l=r,p=W[l],o=h===l;return e.jsxs("div",{className:["group overflow-hidden rounded-2xl border bg-white shadow-sm transition hover:-translate-y-0.5 hover:shadow-md","dark:bg-[#161615] dark:border-[#3E3E3A]",o?"border-black/30 dark:border-white/30":"border-[#19140035]"].join(" "),children:[e.jsxs("div",{className:"relative h-32 w-full overflow-hidden bg-gray-100 dark:bg-black/20",children:[e.jsx("img",{src:((d=E.find(m=>m.key===l))==null?void 0:d.img)||"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=1200&q=80",alt:s.title,className:"block h-full w-full object-cover transition duration-300 group-hover:scale-[1.03]",loading:"lazy",referrerPolicy:"no-referrer",onError:m=>{m.currentTarget.src=K}}),e.jsx("div",{className:"absolute left-3 top-3 rounded-full bg-white/90 px-2 py-1 text-[11px] font-semibold text-[#1b1b18] backdrop-blur dark:bg-black/40 dark:text-white",children:((t=E.find(m=>m.key===l))==null?void 0:t.tag)??"Module"}),o&&e.jsx("div",{className:"absolute right-3 top-3 rounded-full bg-black/80 px-2 py-1 text-[11px] font-semibold text-white",children:"Active"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"text-sm font-semibold text-[#1b1b18] dark:text-[#EDEDEC]",children:s.title}),e.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${s.theme.badge}`})]}),e.jsx("div",{className:"mt-1 text-xs leading-5 text-[#706f6c] dark:text-[#A1A09A]",children:(($=E.find(m=>m.key===l))==null?void 0:$.desc)||s.hint}),e.jsx("button",{type:"button",onClick:()=>p?z(l):U(l),className:["mt-4 inline-flex w-full items-center justify-center rounded-lg border bg-white px-3 py-2 text-xs font-semibold","dark:bg-[#161615] dark:text-[#EDEDEC]",o?"border-black/30 dark:border-white/30":"border-[#19140035] hover:border-[#1915014a] dark:border-[#3E3E3A] dark:hover:border-[#62605b]"].join(" "),children:p?o?"Active":"Switch to this":"Enable"})]})]},l)})})]})})]})]})}export{J as default};
