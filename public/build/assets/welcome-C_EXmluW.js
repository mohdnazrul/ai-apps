import{b as R,K as L,r as o,j as e,L as T,$ as u}from"./app-DDQ-hMpQ.js";var C;const A=((C=document.querySelector('meta[name="csrf-token"]'))==null?void 0:C.content)||"",D=R.create({baseURL:"/",withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json",...A?{"X-CSRF-TOKEN":A}:{}}});function W(a){return e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",className:a.className,children:[e.jsx("path",{d:"M10 2h4v2h-4V2Z",className:"fill-current opacity-80"}),e.jsx("path",{d:"M7 7a5 5 0 0 1 10 0v1h1a3 3 0 0 1 3 3v5a6 6 0 0 1-6 6H9a6 6 0 0 1-6-6v-5a3 3 0 0 1 3-3h1V7Z",className:"fill-current"}),e.jsx("path",{d:"M9 12a1.2 1.2 0 1 0 0 2.4A1.2 1.2 0 0 0 9 12Zm6 0a1.2 1.2 0 1 0 0 2.4A1.2 1.2 0 0 0 15 12Z",className:"fill-white"}),e.jsx("path",{d:"M9 16h6",stroke:"white",strokeWidth:"1.6",strokeLinecap:"round",className:"opacity-90"})]})}function U(){const{auth:a}=L().props,d=!!(a!=null&&a.user),c="ERP AI Expert",S="https://static.vecteezy.com/system/resources/previews/023/783/293/non_2x/artificial-intelligence-generated-icon-ai-sign-for-graphic-design-logo-website-social-media-mobile-app-ui-illustration-vector.jpg",P="https://images.unsplash.com/photo-1556761175-b413da4baf72?auto=format&fit=crop&w=1400&q=80",[k,j]=o.useState(""),[h,b]=o.useState([]),[f,n]=o.useState(""),[g,v]=o.useState(!1),[m,x]=o.useState(d?null:5),p=!d&&m!==null&&m<=0,w=o.useRef(null);o.useEffect(()=>{h.length>0||b([{role:"system",name:c,text:`Hello! I’m ${c} (demo dataset mode).

Try:
• Show unpaid invoices > RM 10k
• Who has overdue payments?
• List low stock items below reorder point
• Show production delays
• Show approval workflow`}])},[]),o.useEffect(()=>{var r;(r=w.current)==null||r.scrollIntoView({behavior:"smooth"})},[h,f]),o.useEffect(()=>{d||D.get("/ai/try-status").then(({data:r})=>{typeof(r==null?void 0:r.remaining)=="number"&&x(r.remaining)}).catch(()=>{})},[d]);const y=async()=>{var i,N;n("");const r=k.trim();if(!r){n("Please type a message.");return}if(p){n("Please log in to continue using AI.");return}b(s=>{var l;return[...s,{role:"user",name:((l=a==null?void 0:a.user)==null?void 0:l.name)??"You",text:r}]}),j(""),v(!0);try{const{data:s}=await D.post("/ai/try",{message:r});typeof(s==null?void 0:s.remaining)=="number"&&x(s.remaining);const l=((s==null?void 0:s.answer)||"").trim();if(!l){n("Sorry, your request is out of range. Please contact the administrator.");return}b(t=>[...t,{role:"bot",name:c,text:l}])}catch(s){if(R.isAxiosError(s)){const l=(i=s.response)==null?void 0:i.status,t=(N=s.response)==null?void 0:N.data;if(typeof(t==null?void 0:t.remaining)=="number"&&x(t.remaining),t!=null&&t.requires_login&&x(0),l===422){n((t==null?void 0:t.message)||"Sorry, your request is out of range. Please contact the administrator.");return}if(l===401){n((t==null?void 0:t.message)||"Please log in to continue using AI.");return}n((t==null?void 0:t.message)||"Request failed.");return}n("Network error. Please try again.")}finally{v(!1)}},I="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=1200&q=80",q=o.useMemo(()=>[{title:"ERP Chat",desc:"Search records + explain fields in seconds.",img:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=1200&q=80",tag:"Copilot"},{title:"Document AI",desc:"Extract invoice/PO data + auto matching.",img:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?auto=format&fit=crop&w=1200&q=80",tag:"Finance"},{title:"Forecasting",desc:"Inventory + production planning alerts.",img:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1200&q=80",tag:"Operations"},{title:"Workflow AI",desc:"Approve/reject suggestions + automation flow.",img:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1200&q=80",tag:"Automation"}],[]),E=r=>{var i;return r==="user"?e.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-blue-600 text-white flex items-center justify-center text-xs font-semibold",children:(i=a==null?void 0:a.user)!=null&&i.name?a.user.name.slice(0,1).toUpperCase():"U"}):r==="system"?e.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-amber-500 text-white flex items-center justify-center text-sm",children:"⭐"}):e.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-emerald-600 text-white flex items-center justify-center",children:e.jsx(W,{className:"h-5 w-5 text-white"})})},F=r=>r==="user"?"bg-blue-600 text-white border-blue-600/30 dark:bg-blue-500 dark:border-blue-400/30":r==="system"?"bg-amber-50 text-amber-900 border-amber-200 dark:bg-amber-900/20 dark:text-amber-100 dark:border-amber-700/40":"bg-gray-100 text-gray-900 border-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700",M=r=>r==="user"?"justify-end":"justify-start";return e.jsxs(e.Fragment,{children:[e.jsxs(T,{title:"Welcome",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"})]}),e.jsxs("div",{className:"flex min-h-screen flex-col bg-[#FDFDFC] text-[#1b1b18] dark:bg-[#0a0a0a]",children:[e.jsx("header",{className:"mx-auto w-full max-w-6xl p-6 lg:p-8",children:e.jsxs("nav",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:S,alt:"ERP AI",className:"h-9 w-9 rounded-xl border border-[#19140035] bg-white object-cover shadow-sm dark:border-[#3E3E3A] dark:bg-[#161615]",loading:"lazy",referrerPolicy:"no-referrer",onError:r=>{r.currentTarget.style.display="none"}}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{className:"text-sm font-semibold",children:"ERP AI"}),e.jsx("div",{className:"text-xs text-[#706f6c] dark:text-[#A1A09A]",children:"Copilot for your operations"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:d?e.jsx(u,{href:route("dashboard"),className:`inline-flex items-center justify-center rounded-md border border-[#19140035] bg-white px-4 py-2 text-sm font-medium hover:border-[#1915014a]
                  dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC] dark:hover:border-[#62605b]`,children:"Go to Dashboard"}):e.jsxs(e.Fragment,{children:[e.jsx(u,{href:route("login"),className:`inline-flex items-center justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium hover:border-[#19140035]
                    dark:text-[#EDEDEC] dark:hover:border-[#3E3E3A]`,children:"Log in"}),e.jsx(u,{href:route("register"),className:`inline-flex items-center justify-center rounded-md border border-[#19140035] bg-white px-4 py-2 text-sm font-medium hover:border-[#1915014a]
                    dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC] dark:hover:border-[#62605b]`,children:"Register"})]})})]})}),e.jsx("main",{className:"mx-auto flex w-full max-w-6xl grow items-center px-6 pb-10 lg:px-8",children:e.jsxs("div",{className:"grid w-full grid-cols-1 overflow-hidden rounded-2xl border border-[#19140035] bg-white shadow-sm dark:border-[#3E3E3A] dark:bg-[#161615] lg:grid-cols-2",children:[e.jsxs("div",{className:"p-6 lg:p-12",children:[e.jsxs("h1",{className:"text-2xl font-semibold tracking-tight lg:text-4xl dark:text-[#EDEDEC]",children:["Ask. Automate. Analyze.",e.jsx("span",{className:"block text-[#706f6c] dark:text-[#A1A09A]",children:"One assistant across sales, inventory, finance & production."})]}),e.jsxs("div",{className:"mt-6 rounded-xl border border-[#19140035] bg-[#FDFDFC] p-4 dark:border-[#3E3E3A] dark:bg-[#0f0f0f]",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"text-xs font-medium dark:text-white",children:"Test chat (dataset)"}),!d&&m!==null&&e.jsxs("div",{className:"text-[11px] text-[#706f6c] dark:text-[#A1A09A]",children:[m," free tries left"]})]}),e.jsx("div",{className:"mt-3 max-h-64 overflow-auto rounded-lg border border-[#19140035] bg-white p-3 dark:border-[#3E3E3A] dark:bg-[#161615]",children:e.jsxs("div",{className:"space-y-3",children:[h.map((r,i)=>e.jsxs("div",{className:`flex ${M(r.role)} gap-2`,children:[r.role!=="user"&&E(r.role),e.jsxs("div",{className:`max-w-[85%] ${r.role==="user"?"text-right":"text-left"}`,children:[e.jsx("div",{className:"mb-1 text-[10px] text-gray-500 dark:text-gray-400",children:r.role==="user"?r.name??"You":r.name??c}),e.jsx("div",{className:["rounded-2xl px-3 py-2 text-sm whitespace-pre-wrap border shadow-sm",F(r.role)].join(" "),children:r.text})]}),r.role==="user"&&E(r.role)]},i)),e.jsx("div",{ref:w})]})}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("input",{className:`h-10 w-full rounded-lg border border-[#19140035] bg-white px-3 text-sm outline-none focus:border-[#1915014a]
                    dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC]`,value:k,onChange:r=>j(r.target.value),placeholder:'Type your message... (e.g. "Show unpaid invoices > RM 10k")',disabled:g||p,onKeyDown:r=>{r.key==="Enter"&&y()}}),p?e.jsx(u,{href:route("login"),className:`inline-flex h-10 items-center justify-center rounded-lg border border-[#19140035] bg-white px-4 text-sm font-medium hover:border-[#1915014a]
                      dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC]`,children:"Log in"}):e.jsx("button",{onClick:y,disabled:g,className:`h-10 shrink-0 rounded-lg border border-[#19140035] bg-white px-4 text-sm font-medium hover:border-[#1915014a]
                      dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC]`,children:g?"Thinking...":"Send"})]}),f&&e.jsx("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:f})]})]}),e.jsxs("div",{className:"relative min-h-[320px] bg-[#fff2f2] dark:bg-[#1D0002] lg:min-h-full",children:[e.jsx("img",{src:P,alt:"ERP AI preview",className:"absolute inset-0 h-full w-full object-cover",loading:"lazy",referrerPolicy:"no-referrer"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/55 via-black/10 to-transparent"})]})]})}),e.jsx("section",{id:"ai-modules",className:"mx-auto w-full max-w-6xl px-6 pb-12 lg:px-8",children:e.jsxs("div",{className:"rounded-2xl border border-[#19140035] bg-white p-6 dark:border-[#3E3E3A] dark:bg-[#161615]",children:[e.jsx("div",{className:"text-base font-semibold text-[#1b1b18] dark:text-[#EDEDEC]",children:"AI modules you can add next"}),e.jsx("div",{className:"mt-1 text-sm text-[#706f6c] dark:text-[#A1A09A]",children:"Plug-and-play ideas to make your ERP smarter."}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:q.map(r=>e.jsxs("div",{className:`group overflow-hidden rounded-2xl border border-[#19140035] bg-white shadow-sm transition hover:-translate-y-0.5 hover:shadow-md
                  dark:border-[#3E3E3A] dark:bg-[#161615]`,children:[e.jsxs("div",{className:"relative h-32 w-full overflow-hidden bg-gray-100 dark:bg-black/20",children:[e.jsx("img",{src:r.img,alt:r.title,className:"block h-full w-full object-cover transition duration-300 group-hover:scale-[1.03]",loading:"lazy",referrerPolicy:"no-referrer",onError:i=>{i.currentTarget.src=I}}),e.jsx("div",{className:"absolute left-3 top-3 rounded-full bg-white/90 px-2 py-1 text-[11px] font-semibold text-[#1b1b18] backdrop-blur dark:bg-black/40 dark:text-white",children:r.tag})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-[#1b1b18] dark:text-[#EDEDEC]",children:r.title}),e.jsx("div",{className:"mt-1 text-xs leading-5 text-[#706f6c] dark:text-[#A1A09A]",children:r.desc}),e.jsx("button",{type:"button",className:`mt-4 inline-flex w-full items-center justify-center rounded-lg border border-[#19140035] bg-white px-3 py-2 text-xs font-semibold hover:border-[#1915014a]
                      dark:border-[#3E3E3A] dark:bg-[#161615] dark:text-[#EDEDEC] dark:hover:border-[#62605b]`,children:"Enable"})]})]},r.title))})]})})]})]})}export{U as default};
